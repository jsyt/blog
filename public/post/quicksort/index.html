<!doctype html><html lang=en><head><title>排序算法之快速排序 | luke's blog</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=SKYPE_TOOLBAR content="SKYPE_TOOLBAR_PARSER_COMPATIBLE"><meta name=keywords content="luke's blog"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="排序算法之快速排序"><meta property="og:description" content="快速排序是图灵奖得主 C. R. A. Hoare 于 1960 年提出的一种划分交换排序。它采用了一种分治的策略，通常称其为分治法(Divide-and-ConquerMethod)。
分治法的基本思想是：将原问题分解为若干个规模更小但结构与原问题相似的子问题。递归地解这些子问题，然后将这些子问题 …"><meta property="og:url" content="https://goyth.cn/post/quicksort/"><meta property="og:image" content="images/%!s()"><link rel=apple-touch-icon sizes=180x180 href=https://goyth.cn/images/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://goyth.cn/images/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://goyth.cn/images/icons/favicon-16x16.png><link rel=manifest href=https://goyth.cn/images/icons/site.webmanifest><meta name=msapplication-TileColor content="#da532c"><meta name=theme-color content="#ffffff"><link rel=canonical href=https://goyth.cn/post/quicksort/><link rel=stylesheet href=https://goyth.cn/css/main.d58bbe06d10754d7b4edab546b23b3999a56f88066c07ba51197c2b267ff7dd6417af0a14d07dd1e2c4afdd53e855c813c09278e2d39f5fd2d19621f3f09afb3.css integrity="sha512-1Yu+BtEHVNe07atUayOzmZpW+IBmwHulEZfCsmf/fdZBevChTQfdHixK/dU+hVyBPAknji059f0tGWIfPwmvsw=="></head><body><div class=nav-drop><div class=nav-body><a href=https://goyth.cn/ class=nav_item>Home</a>
<a href=https://goyth.cn/categories class=nav_item>Category</a>
<a href=https://goyth.cn/tags class=nav_item>Tag</a>
<a href=https://goyth.cn/about/ class=nav_item>About</a><div class=nav-close></div><div class=color_mode><label for=mode>Toggle Dark Mode</label>
<input type=checkbox class=color_choice id=mode></div></div></div><header class=nav><nav class=nav-menu><a href=https://goyth.cn/ class="nav-brand nav_item">luke's blog</a><div class=nav_bar-wrap><div class=nav_bar></div></div></nav></header><main><div class="wrap mt post"><div><p class="post_date pale">09. February 2018</p><h1 class=post_title>排序算法之快速排序</h1><div class=post_body><div class=post_inner><p>排序算法总览：</p><p><img src=https://img-1256541035.cos.ap-shanghai.myqcloud.com/imgs/sort-sort.png alt></p><h2 id=快速排序>快速排序</h2><p><img src=https://img-1256541035.cos.ap-shanghai.myqcloud.com/imgs/quickSort-quicksort.gif alt></p><p>快速排序是图灵奖得主 C. R. A. Hoare 于 1960 年提出的一种划分交换排序。它采用了一种分治的策略，通常称其为分治法(Divide-and-ConquerMethod)。</p><p>分治法的基本思想是：将原问题分解为若干个规模更小但结构与原问题相似的子问题。递归地解这些子问题，然后将这些子问题的解组合为原问题的解。</p><p>利用分治法可将快速排序的分为三步：</p><ol><li>在数据集之中，选择一个元素作为”基准”（pivot）。</li><li>所有小于”基准”的元素，都移到”基准”的左边；所有大于”基准”的元素，都移到”基准”的右边。这个操作称为分区 (partition) 操作，分区操作结束后，基准元素所处的位置就是最终排序后它的位置。</li><li>对”基准”左边和右边的两个子集，不断重复第一步和第二步，直到所有子集只剩下一个元素为止。</li></ol><h3 id=javascript-递归版>JavaScript 递归版</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-js data-lang=js><span class=kd>function</span> <span class=nx>quickSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>){</span>
  <span class=kd>var</span> <span class=nx>high</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
  <span class=nx>qSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>high</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>qSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>high</span><span class=p>){</span>
  <span class=k>if</span><span class=p>(</span><span class=nx>low</span> <span class=o>&gt;=</span> <span class=nx>high</span><span class=p>){</span>
    <span class=k>return</span> <span class=nx>arr</span><span class=p>;</span>
  <span class=p>}</span>
  <span class=kd>var</span> <span class=nx>mid</span> <span class=o>=</span> <span class=nx>partition</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>high</span><span class=p>);</span>
  <span class=nx>qSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>mid</span><span class=o>-</span><span class=mi>1</span><span class=p>);</span>
  <span class=nx>qSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>mid</span><span class=o>+</span><span class=mi>1</span><span class=p>,</span> <span class=nx>high</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>partition</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>high</span><span class=p>){</span>
  <span class=kd>var</span> <span class=nx>pivot</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>];</span>
  <span class=k>while</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>high</span><span class=p>){</span>
    <span class=k>while</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>high</span> <span class=o>&amp;&amp;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>high</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=nx>pivot</span><span class=p>){</span>
      <span class=nx>high</span><span class=o>--</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>high</span><span class=p>];</span>
    <span class=k>while</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>high</span> <span class=o>&amp;&amp;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=nx>pivot</span><span class=p>){</span>
      <span class=nx>low</span><span class=o>++</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=nx>arr</span><span class=p>[</span><span class=nx>high</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>];</span>
  <span class=p>}</span>
  <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>]</span> <span class=o>=</span> <span class=nx>pivot</span><span class=p>;</span>
  <span class=k>return</span> <span class=nx>low</span><span class=p>;</span>
<span class=p>}</span>

</code></pre></td></tr></table></div></div><h3 id=javascript-迭代版>JavaScript 迭代版</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-js data-lang=js><span class=kd>function</span> <span class=nx>quickSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>){</span>
  <span class=kd>var</span> <span class=nx>high</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>.</span><span class=nx>length</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
  <span class=nx>qSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>high</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>qSort</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>high</span><span class=p>){</span>
  <span class=kd>var</span> <span class=nx>stack</span> <span class=o>=</span> <span class=p>[];</span>
  <span class=kd>var</span> <span class=nx>top</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
  <span class=nx>stack</span><span class=p>[</span><span class=o>++</span><span class=nx>top</span><span class=p>]</span> <span class=o>=</span> <span class=nx>low</span><span class=p>;</span>
  <span class=nx>stack</span><span class=p>[</span><span class=o>++</span><span class=nx>top</span><span class=p>]</span> <span class=o>=</span> <span class=nx>high</span><span class=p>;</span>
  <span class=k>while</span><span class=p>(</span><span class=nx>top</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>){</span>
    <span class=nx>high</span> <span class=o>=</span> <span class=nx>stack</span><span class=p>[</span><span class=nx>top</span><span class=o>--</span><span class=p>];</span>
    <span class=nx>low</span> <span class=o>=</span> <span class=nx>stack</span><span class=p>[</span><span class=nx>top</span><span class=o>--</span><span class=p>];</span>
    <span class=kd>var</span> <span class=nx>mid</span> <span class=o>=</span> <span class=nx>partition</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>high</span><span class=p>);</span>
    <span class=k>if</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>mid</span> <span class=o>-</span> <span class=mi>1</span><span class=p>){</span>
      <span class=nx>stack</span><span class=p>[</span><span class=o>++</span><span class=nx>top</span><span class=p>]</span> <span class=o>=</span> <span class=nx>low</span><span class=p>;</span>
      <span class=nx>stack</span><span class=p>[</span><span class=o>++</span><span class=nx>top</span><span class=p>]</span> <span class=o>=</span> <span class=nx>mid</span> <span class=o>-</span> <span class=mi>1</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=k>if</span><span class=p>(</span><span class=nx>mid</span> <span class=o>+</span> <span class=mi>1</span> <span class=o>&lt;</span> <span class=nx>high</span><span class=p>){</span>
      <span class=nx>stack</span><span class=p>[</span><span class=o>++</span><span class=nx>top</span><span class=p>]</span> <span class=o>=</span> <span class=nx>mid</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
      <span class=nx>stack</span><span class=p>[</span><span class=o>++</span><span class=nx>top</span><span class=p>]</span> <span class=o>=</span> <span class=nx>high</span><span class=p>;</span>
    <span class=p>}</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>partition</span><span class=p>(</span><span class=nx>arr</span><span class=p>,</span> <span class=nx>low</span><span class=p>,</span> <span class=nx>high</span><span class=p>){</span>
  <span class=kd>var</span> <span class=nx>pivot</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>];</span>
  <span class=k>while</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>high</span><span class=p>){</span>
    <span class=k>while</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>high</span> <span class=o>&amp;&amp;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>high</span><span class=p>]</span> <span class=o>&gt;=</span> <span class=nx>pivot</span><span class=p>){</span>
      <span class=nx>high</span><span class=o>--</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>high</span><span class=p>];</span>
    <span class=k>while</span><span class=p>(</span><span class=nx>low</span> <span class=o>&lt;</span> <span class=nx>high</span> <span class=o>&amp;&amp;</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>]</span> <span class=o>&lt;=</span> <span class=nx>pivot</span><span class=p>){</span>
      <span class=nx>low</span><span class=o>++</span><span class=p>;</span>
    <span class=p>}</span>
    <span class=nx>arr</span><span class=p>[</span><span class=nx>high</span><span class=p>]</span> <span class=o>=</span> <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>];</span>
  <span class=p>}</span>
  <span class=nx>arr</span><span class=p>[</span><span class=nx>low</span><span class=p>]</span> <span class=o>=</span> <span class=nx>pivot</span><span class=p>;</span>
  <span class=k>return</span> <span class=nx>low</span><span class=p>;</span>
<span class=p>}</span>
</code></pre></td></tr></table></div></div></div><div class="post_extra mb-2"><div class=copy></div></div><div></div></div></div></div><a href=https://goyth.cn/ class=post_nav><span class=post_next>The Latest</span>T</a></main><footer class="footer wrap pale"><p>&copy;&nbsp;<span class=year></span>&nbsp;luke's blog</p><p>Designed by <a href=https://www.linkedin.com/in/dan-weru-profile/ target=_blank title="Linkedin Profile" rel=nonopener>Weru</a></p></footer><script src=https://goyth.cn/js/index.min.341d29a1c2e2c5816ac7b1aa24689d7569bad1f956398dc4e5d86a8c6e18a91d4bfd722d60bf51e1b8ea40a2b3db9a6e66fc2ca424fa207860fe9c225ec2bff3.js></script></body></html>