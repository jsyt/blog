<!DOCTYPE html>
<html lang='en'>
  <head>
  <title>排序算法之归并排序 | luke&#39;s blog</title>
  <meta charset='utf-8'>
  <meta name = 'viewport' content = 'width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no'>
  <meta http-equiv = 'X-UA-Compatible' content = 'IE=edge'>
  <meta name = 'SKYPE_TOOLBAR' content = 'SKYPE_TOOLBAR_PARSER_COMPATIBLE' /><meta name = 'keywords' content = 'luke&#39;s blog'>
<meta property = 'og:locale' content = 'en_US' />
<meta property = 'og:type' content = 'article' />
<meta property = 'og:title' content = '排序算法之归并排序' />
<meta property = 'og:description' content = '归并排序（MERGE-SORT）是建立在归并操作上的一种有效的排序算法,该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。将已有序的子序列合并，得到完全有序的序列；即先使每个子序列有序，再使子序列段间有序。若将两个有序表合并成一个有序表，称为二路归并。
归并排序可以使用 …'>
<meta property = 'og:url' content = 'https://goyth.cn/post/mergesort/' />
<meta property = 'og:image' content = 'https://goyth.cn/images/stuck.jpg'/>
<link rel='apple-touch-icon' sizes='180x180' href='https://goyth.cn/images/icons/apple-touch-icon.png'>
<link rel='icon' type='image/png' sizes='32x32' href='https://goyth.cn/images/icons/favicon-32x32.png'>
<link rel='icon' type='image/png' sizes='16x16' href='https://goyth.cn/images/icons/favicon-16x16.png'>
<link rel='manifest' href='https://goyth.cn/images/icons/site.webmanifest'>
<meta name='msapplication-TileColor' content='#da532c'>
<meta name='theme-color' content='#ffffff'>

  <link rel='canonical' href='https://goyth.cn/post/mergesort/'>
  <link rel = 'stylesheet' href = 'https://goyth.cn/css/main.d58bbe06d10754d7b4edab546b23b3999a56f88066c07ba51197c2b267ff7dd6417af0a14d07dd1e2c4afdd53e855c813c09278e2d39f5fd2d19621f3f09afb3.css' integrity = 'sha512-1Yu&#43;BtEHVNe07atUayOzmZpW&#43;IBmwHulEZfCsmf/fdZBevChTQfdHixK/dU&#43;hVyBPAknji059f0tGWIfPwmvsw=='>
</head>

  <body>
    <div class = 'nav-drop'>
  <div class = 'nav-body'>
    
      <a href = 'https://goyth.cn/' class = 'nav_item'>Home</a>
    
      <a href = 'https://goyth.cn/categories' class = 'nav_item'>Category</a>
    
      <a href = 'https://goyth.cn/tags' class = 'nav_item'>Tag</a>
    
      <a href = 'https://goyth.cn/about/' class = 'nav_item'>About</a>
    
    <div class = 'nav-close'></div>
    <div class = 'color_mode'>
<label for = 'mode'>Toggle Dark Mode</label>
<input type = 'checkbox' class = 'color_choice' id = 'mode'>
</div>

  </div>
</div>
<header class = 'nav' >
  <nav class = 'nav-menu'>
    <a href='https://goyth.cn/' class = 'nav-brand nav_item'>luke&#39;s blog</a>
    <div class = 'nav_bar-wrap'>
      <div class = 'nav_bar'></div>
    </div>
  </nav>
</header>


    <main>
      
  <div class = 'wrap mt post'>
    <div><p class = 'post_date pale'>09. February 2018</p>
      <h1 class = 'post_title'>排序算法之归并排序</h1>
      <div class = 'post_body'>
        <div class = 'post_inner'>
        
        
          <p>排序算法总览：</p>
<p><img src="https://img-1256541035.cos.ap-shanghai.myqcloud.com/imgs/sort-sort.png" alt=""></p>
<h2 id="归并排序">归并排序</h2>
<p><img src="https://img-1256541035.cos.ap-shanghai.myqcloud.com/imgs/mergeSort-mergesort.gif" alt=""></p>
<p>归并排序（MERGE-SORT）是建立在归并操作上的一种有效的排序算法,该算法是采用分治法（Divide and Conquer）的一个非常典型的应用。将已有序的子序列合并，得到完全有序的序列；即先使每个子序列有序，再使子序列段间有序。若将两个有序表合并成一个有序表，称为二路归并。</p>
<p>归并排序可以使用递归和迭代两种方式进行实现</p>
<h3 id="递归法top-down">递归法（Top-down）</h3>
<ol>
<li>申请空间，使其大小为两个已经排序序列之和，该空间用来存放合并后的序列</li>
<li>设定两个指针，最初位置分别为两个已经排序序列的起始位置</li>
<li>比较两个指针所指向的元素，选择相对小的元素放入到合并空间，并移动指针到下一位置</li>
<li>重复步骤3直到某一指针到达序列尾</li>
<li>将另一序列剩下的所有元素直接复制到合并序列尾</li>
</ol>
<h3 id="迭代法bottom-up">迭代法（Bottom-up）</h3>
<p>原理如下（假设序列共有n个元素）：</p>
<ol>
<li>将序列每相邻两个数字进行归并操作，形成 ceil(n/2)个序列，排序后每个序列包含两/一个元素</li>
<li>若此时序列数不是1个则将上述序列再次归并，形成 ceil(n/4)个序列，每个序列包含四/三个元素</li>
<li>重复步骤2，直到所有元素排序完毕，即序列数为1</li>
</ol>
<h3 id="javascrpt-递归版">JavaScrpt 递归版</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">mergeSort</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">len</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">){</span>
    <span class="k">return</span> <span class="nx">arr</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">mid</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">len</span><span class="o">/</span><span class="mi">2</span><span class="p">)</span>
  <span class="kd">var</span> <span class="nx">left</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">mid</span><span class="p">);</span>
  <span class="kd">var</span> <span class="nx">right</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="nx">mid</span><span class="p">);</span>

  <span class="k">return</span> <span class="nx">merge</span><span class="p">(</span><span class="nx">mergeSort</span><span class="p">(</span><span class="nx">left</span><span class="p">),</span> <span class="nx">mergeSort</span><span class="p">(</span><span class="nx">right</span><span class="p">))</span>

<span class="p">}</span>

<span class="kd">function</span> <span class="nx">merge</span><span class="p">(</span><span class="nx">left</span><span class="p">,</span> <span class="nx">right</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">while</span><span class="p">(</span><span class="nx">left</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">right</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">left</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">right</span><span class="p">[</span><span class="mi">0</span><span class="p">]){</span>
      <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">left</span><span class="p">.</span><span class="nx">shift</span><span class="p">())</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
      <span class="nx">result</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">right</span><span class="p">.</span><span class="nx">shift</span><span class="p">())</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">concat</span><span class="p">(</span><span class="nx">left</span><span class="p">).</span><span class="nx">concat</span><span class="p">(</span><span class="nx">right</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="javascrpt-迭代版">JavaScrpt 迭代版</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-js" data-lang="js"><span class="kd">function</span> <span class="nx">mergeSort</span><span class="p">(</span><span class="nx">arr</span><span class="p">){</span>
  <span class="kd">var</span> <span class="nx">len</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
  <span class="kd">var</span> <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">block</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span> <span class="nx">block</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">block</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">block</span><span class="p">){</span>
    <span class="k">for</span><span class="p">(</span><span class="kd">var</span> <span class="nx">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">start</span> <span class="o">&lt;</span> <span class="nx">len</span><span class="p">;</span> <span class="nx">start</span> <span class="o">=</span> <span class="nx">start</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">block</span><span class="p">){</span>
      <span class="kd">var</span> <span class="nx">low</span> <span class="o">=</span> <span class="nx">start</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">mid</span> <span class="o">=</span> <span class="p">(</span><span class="nx">start</span> <span class="o">+</span> <span class="nx">block</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">len</span> <span class="o">?</span> <span class="nx">len</span> <span class="o">:</span> <span class="p">(</span><span class="nx">start</span> <span class="o">+</span> <span class="nx">block</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">high</span> <span class="o">=</span> <span class="p">(</span><span class="nx">start</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">block</span><span class="p">)</span> <span class="o">&gt;</span> <span class="nx">len</span> <span class="o">?</span> <span class="nx">len</span> <span class="o">:</span> <span class="p">(</span><span class="nx">start</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">*</span> <span class="nx">block</span><span class="p">)</span>
      <span class="kd">var</span> <span class="nx">start1</span> <span class="o">=</span> <span class="nx">low</span><span class="p">,</span> <span class="nx">end1</span> <span class="o">=</span> <span class="nx">mid</span><span class="p">;</span>
      <span class="kd">var</span> <span class="nx">start2</span> <span class="o">=</span> <span class="nx">mid</span><span class="p">,</span> <span class="nx">end2</span> <span class="o">=</span> <span class="nx">high</span><span class="p">;</span>
      <span class="k">while</span><span class="p">(</span><span class="nx">start1</span> <span class="o">&lt;</span> <span class="nx">end1</span> <span class="o">&amp;&amp;</span> <span class="nx">start2</span> <span class="o">&lt;</span> <span class="nx">end2</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="nx">arr</span><span class="p">[</span><span class="nx">start1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">start2</span><span class="p">]){</span>
          <span class="nx">result</span><span class="p">[</span><span class="nx">low</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">start1</span><span class="o">++</span><span class="p">]</span>
        <span class="p">}</span><span class="k">else</span><span class="p">{</span>
          <span class="nx">result</span><span class="p">[</span><span class="nx">low</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">start2</span><span class="o">++</span><span class="p">]</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">while</span><span class="p">(</span><span class="nx">start1</span> <span class="o">&lt;</span> <span class="nx">end1</span><span class="p">){</span>
        <span class="nx">result</span><span class="p">[</span><span class="nx">low</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">start1</span><span class="o">++</span><span class="p">]</span>
      <span class="p">}</span>
      <span class="k">while</span><span class="p">(</span><span class="nx">start2</span> <span class="o">&lt;</span> <span class="nx">end2</span><span class="p">){</span>
        <span class="nx">result</span><span class="p">[</span><span class="nx">low</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="nx">arr</span><span class="p">[</span><span class="nx">start2</span><span class="o">++</span><span class="p">]</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="nx">arr</span> <span class="o">=</span> <span class="nx">result</span><span class="p">;</span>
    <span class="nx">result</span> <span class="o">=</span> <span class="p">[];</span>    <span class="c1">// 这里一定要将 result 设置为一个新的空数组，否则下一次循环时，修改result的同时也会修改arr
</span><span class="c1"></span>  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">result</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></td></tr></table>
</div>
</div>
        </div>
        <div class ='post_extra mb-2'>
          <div class = 'copy'></div>

        </div>
        <div>
        
        </div>
      </div>
    </div>
  </div>
  <a href = 'https://goyth.cn/' class = 'post_nav'><span class = 'post_next'>The Latest</span>T</a>

    </main>
    <footer class = 'footer wrap pale'>
  <p>&copy;&nbsp;<span class = 'year'></span>&nbsp;luke&#39;s blog</p>
  <p>Designed by  <a href = 'https://www.linkedin.com/in/dan-weru-profile/' target = '_blank' title = 'Linkedin Profile' rel = 'nonopener'>Weru</a></p>
</footer>


<script src = 'https://goyth.cn/js/index.min.341d29a1c2e2c5816ac7b1aa24689d7569bad1f956398dc4e5d86a8c6e18a91d4bfd722d60bf51e1b8ea40a2b3db9a6e66fc2ca424fa207860fe9c225ec2bff3.js'></script>

  </body>
</html>
